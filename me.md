---
layout: default
---

<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>PPlabs Web 后端笔试 v0_3</title><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 .h1 { color: #34485E; font-family:Tahoma, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 13pt; }
 .s1 { color: #34485E; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 13pt; }
 .s2 { color: #34485E; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s3 { color: #34485E; font-family:"Trebuchet MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s4 { color: #34485E; font-family:"Trebuchet MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s5 { color: #34485E; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s6 { color: #777; font-family:"Trebuchet MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s7 { color: #34485E; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s8 { color: #34485E; font-family:"Trebuchet MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s9 { color: #34485E; font-family:"Trebuchet MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .a { color: #34485E; font-family:"Trebuchet MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s10 { color: black; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s11 { color: #2F3942; font-family:"Trebuchet MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .p, p { color: #34485E; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; margin:0pt; }
 .s12 { color: #34485E; font-family:"Palatino Linotype", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s13 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s14 { color: #4E555E; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
 .s15 { color: black; font-family:"Trebuchet MS", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7.5pt; }
</style></head><body><p style="text-indent: 0pt;line-height: 18pt;text-align: center;"><a href="http://www.nowcoder.com/test/16031385/summary" class="h1" target="_blank">PPlabs Web </a><a href="http://www.nowcoder.com/test/16031385/summary" class="s1" target="_blank">后后端端笔笔试试 </a><a href="http://www.nowcoder.com/test/16031385/summary" class="h1" target="_blank">v3</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">一<span class="s3">. </span>问答</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s4" style="padding-left: 8pt;text-indent: 0pt;line-height: 11pt;text-align: left;">1.</p><p class="s5" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;line-height: 15pt;text-align: left;">下面显示了当前 <span class="s4">PPIO </span>测试链上每个钱包地址所包含的余额数排行榜信息（数据为测试数据，仅供参考）， 如下所示：</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:5.78114pt" cellspacing="0"><tr style="height:18pt"><td style="width:341pt"><p class="s7" style="padding-left: 2pt;text-indent: 0pt;line-height: 16pt;text-align: left;"><span class="s6">A total of 100000 accounts found </span>上一页 <span class="s8">&lt; 1/200 &gt;</span>下一页</p></td><td style="width:55pt"/></tr><tr style="height:15pt"><td style="width:341pt"><p class="s8" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Rank Address Balance</p></td><td style="width:55pt"><p class="s8" style="padding-top: 1pt;text-indent: 0pt;text-align: left;">TxCount</p></td></tr><tr style="height:15pt"><td style="width:341pt"><p class="s8" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><a href="https://explorer.testnet.pp.io/%23/address/ppio1SDKRLjDALmN7kV874JLhZAv4Q9TKVhrhg" class="s9" target="_blank">1 </a>ppio1SDKRLjDALmN7kV874JLhZAv4Q9TKVhrhg 30000 PPCoin</p></td><td style="width:55pt"><p class="s8" style="padding-top: 1pt;padding-left: 21pt;text-indent: 0pt;text-align: left;">2000</p></td></tr><tr style="height:15pt"><td style="width:341pt"><p class="s8" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><a href="https://explorer.testnet.pp.io/%23/address/ppio1ZoKAKZftwkdAVXSuPnz2TLJp14pSfhvMj" class="s9" target="_blank">2 </a>ppio1ZoKAKZftwkdAVXSuPnz2TLJp14pSfhvMj 29990 PPCoin</p></td><td style="width:55pt"><p class="s8" style="padding-top: 1pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">1999</p></td></tr><tr style="height:15pt"><td style="width:341pt"><p class="s8" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><a href="https://explorer.testnet.pp.io/%23/address/ppio1Yd4y3cYYZZ3pZqxnmn6xydrE4VmvWiX3d" class="s9" target="_blank">3 </a>ppio1Yd4y3cYYZZ3pZqxnmn6xydrE4VmvWiX3d 29980 PPCoin</p></td><td style="width:55pt"><p class="s8" style="padding-top: 1pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">1 998</p></td></tr><tr style="height:18pt"><td style="width:341pt"><p class="s8" style="padding-top: 1pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">...</p></td><td style="width:55pt"/></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;line-height: 15pt;text-align: left;">如果上面所示的排行榜数据都是放在 <span class="s4">redis </span>数据库中维护的，为了实现以上功能，需要用到 <span class="s4">redis </span>的哪些数据 结构及相应的方法？</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 8pt;text-indent: 0pt;line-height: 16pt;text-align: left;">提示有以下几个功能点：</p><p class="s4" style="padding-left: 8pt;text-indent: 0pt;line-height: 15pt;text-align: left;">1. <span class="s5">获取当前排行榜中的总地址（</span>Address<span class="s5">）数。</span></p><p class="s4" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;line-height: 15pt;text-align: left;">2. <span class="s5">分页获取当前排行榜数据（根据余额数倒序排序）。包含 </span>Rank<span class="s5">（名次）、</span>Address<span class="s5">（钱包地址）、 </span>Balance<span class="s5">（余额）、 </span>TxCount<span class="s5">（参与事务的总数）。</span></p><p class="s5" style="padding-left: 8pt;text-indent: 0pt;line-height: 15pt;text-align: left;">请给出详细的设计文档。</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s4" style="padding-left: 8pt;text-indent: 0pt;line-height: 15pt;text-align: left;"><span class="s5">文档内容示例：需要使用 </span>String <span class="s5">数据结构来存储各个钱包地址的余额信息，键名为： </span><a href="https://explorer.testnet.pp.io/%23/address/ppio1SDKRLjDALmN7kV874JLhZAv4Q9TKVhrhg" class="a" target="_blank">PPIO:Wallet:</a>ppio1SDKRLjDALmN7kV874JLhZAv4Q9TKVhrhg<span class="s5">，键值为该账户的余额。通过 </span><a href="https://explorer.testnet.pp.io/%23/address/ppio1SDKRLjDALmN7kV874JLhZAv4Q9TKVhrhg" class="a" target="_blank">GET PPIO:Wallet:</a>ppio1SDKRLjDALmN7kV874JLhZAv4Q9TKVhrhg <a href="https://explorer.testnet.pp.io/%23/address/ppio1SDKRLjDALmN7kV874JLhZAv4Q9TKVhrhg" style=" color: #34485E; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt;" target="_blank">来获取账户 </a>ppio1SDKRLjDALmN7kV874JLhZAv4Q9TKVhrhg <span class="s5">的余额信息 </span>...</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="637" height="36" alt="image" src="PPlabs-Web-后端笔试v2/Image_001.png"/></span></p><p class="s10" style="padding-left: 17pt;text-indent: 0pt;text-align: left;">正确答案：</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s4" style="padding-left: 8pt;text-indent: 0pt;line-height: 11pt;text-align: left;">2.</p><p class="s5" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;line-height: 15pt;text-align: left;">下面给出某个文件（<span class="s11">https://resource.testnet.pp.io/demo/release/macos/latest/ppio-demo.dmg</span>）在下载过 程中所涉及的 <span class="s4">HTTP </span>请求包头及响应包头。</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">请求包头：</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="2" height="204" alt="image" src="PPlabs-Web-后端笔试v2/Image_002.png"/></span></p><p style="padding-left: 15pt;text-indent: 0pt;text-align: left;">:authority: resource.testnet.pp.io</p><p style="padding-top: 3pt;padding-left: 15pt;text-indent: 0pt;text-align: left;">:method: GET</p><p style="padding-top: 3pt;padding-left: 15pt;text-indent: 0pt;text-align: left;">:path: /demo/release/macos/latest/ppio-demo.dmg</p><p style="padding-top: 3pt;padding-left: 15pt;text-indent: 0pt;line-height: 130%;text-align: left;">:scheme: https accept:</p><p style="padding-left: 15pt;text-indent: 0pt;line-height: 130%;text-align: left;">text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed- exchange;v=b3</p><p style="padding-left: 15pt;text-indent: 0pt;text-align: left;">accept-encoding: gzip, deflate, br</p><p style="padding-top: 3pt;padding-left: 15pt;text-indent: 0pt;text-align: left;">accept-language: zh-CN,zh;q=0.9,en;q=0.8</p><p style="text-indent: 0pt;text-align: left;"><span><img width="2" height="125" alt="image" src="PPlabs-Web-后端笔试v2/Image_003.png"/></span></p><p style="padding-top: 2pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">cookie: ppio_uid=testuid; ppio_token=testtoken</p><p style="padding-top: 3pt;padding-left: 12pt;text-indent: 0pt;line-height: 130%;text-align: left;">if-range: &quot;2c1210c6567c9278985062f9dac53e57-10&quot; range: bytes=15332307-15332307</p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;">upgrade-insecure-requests: 1</p><p style="padding-top: 3pt;padding-left: 12pt;text-indent: 0pt;line-height: 130%;text-align: left;">user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 5pt;text-indent: 0pt;line-height: 16pt;text-align: left;">响应包头：</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="2" height="256" alt="image" src="PPlabs-Web-后端笔试v2/Image_004.png"/></span></p><p style="padding-left: 12pt;text-indent: 0pt;line-height: 130%;text-align: left;">accept-ranges: bytes content-length: 1</p><p style="padding-left: 12pt;text-indent: 0pt;line-height: 130%;text-align: left;">content-range: bytes 15332307-15332307/78696231 content-type: application/x-apple-diskimage</p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;">date: Mon, 08 Apr 2019 16:14:42 GMT</p><p style="padding-top: 3pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">etag: &quot;2c1210c6567c9278985062f9dac53e57-10&quot;</p><p style="padding-top: 3pt;padding-left: 12pt;text-indent: 0pt;line-height: 130%;text-align: left;">last-modified: Wed, 27 Feb 2019 11:53:53 GMT server: AmazonS3</p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;">status: 206</p><p style="padding-top: 3pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">via: 1.1 3245d45aedf7a8621aabe6b30d2f5a48.cloudfront.net (CloudFront)</p><p style="padding-top: 3pt;padding-left: 12pt;text-indent: 0pt;line-height: 130%;text-align: left;">x-amz-cf-id: EbYLgTsiNOC2U1GOqYMozH0eGMwkj94dNuD8asrjiZrE2wzOIFwd4w== x-cache: Miss from cloudfront</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 5pt;text-indent: 1pt;line-height: 15pt;text-align: left;"><span class="s12">1. </span>如果该文件的 <span class="s4">HTTP </span>下载服务器对每个请求的下载限速为 <span class="s4">10 KB/s</span>，有什么办法让下载速度达到 <span class="s4">100 KB/s</span>？（请给出伪码以及必要的说明）。</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="637" height="36" alt="image" src="PPlabs-Web-后端笔试v2/Image_005.png"/></span></p><p class="s10" style="padding-left: 14pt;text-indent: 0pt;text-align: left;">正确答案：</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s4" style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;">3.</p><p class="s5" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 15pt;text-align: left;">请实现一个简单的 <span class="s4">Linux Shell </span>脚本，用于监控机器上的某个进程，如果进程退出，则需要重新拉起该进程， 并输出新的进程 <span class="s4">ID</span>。</p><p class="s5" style="padding-left: 5pt;text-indent: 0pt;line-height: 15pt;text-align: left;">进程启动命令：</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s13" style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="2" height="36" alt="image" src="PPlabs-Web-后端笔试v2/Image_006.png"/></span> <span class="p">/usr/local/bin/ppio-demo start</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="637" height="279" alt="image" src="PPlabs-Web-后端笔试v2/Image_007.png"/></span></p><p class="s10" style="padding-left: 14pt;text-indent: 0pt;text-align: left;">正确答案：</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="721" height="143" alt="image" src="PPlabs-Web-后端笔试v2/Image_008.png"/></span></p><p class="s14" style="text-indent: 0pt;text-align: right;">PPLabs</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s4" style="padding-top: 3pt;padding-left: 39pt;text-indent: 0pt;line-height: 11pt;text-align: left;">4.</p><p class="s5" style="padding-top: 1pt;padding-left: 39pt;text-indent: 0pt;line-height: 15pt;text-align: left;">现在有一个需求，需要你去爬取微博用户的详细数据，其中包括用户的 <span class="s4">nickname</span>（昵称，具有唯一性）、 <span class="s4">follow_num</span>（关注数）、<span class="s4">follower_num</span>（粉丝数）、<span class="s4">weibo_num</span>（微博数），以及每个用户发布的所有微博 信息，其中包括微博的<span class="s4">content</span>（内容，只需考虑文本内容）、<span class="s4">post_time</span>（发布时间）、<span class="s4">repost_num</span>（转发 数）、<span class="s4">comment_num</span>（评论数）、<span class="s4">like_num</span>（点赞数）。爬取的数据需要通过 <span class="s4">MySQL </span>数据库进行存储。</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s4" style="padding-left: 39pt;text-indent: 0pt;line-height: 15pt;text-align: left;">1<span class="s5">、请你设计出用于存储以上数据所需要的建立的 </span>MySQL <span class="s5">数据库表结构及表之间的关联关系。（用 </span>SQL <span class="s5">语句 表示） </span>2<span class="s5">、在已爬取的数据中，如果要统计用户（昵称：</span>PPlabs2019<span class="s5">）历史微博的总点赞数，请你写出对应的 </span>SQL <span class="s5">查询语句。</span></p><p class="s4" style="padding-left: 39pt;text-indent: 0pt;line-height: 15pt;text-align: left;">3<span class="s5">、在已爬取的数据中，需要按用户历史微博的总点赞数进行倒序排序，选出前 </span>50 <span class="s5">名用户，并显示其昵称、 关注数、粉丝数。请你写出对应的 </span>SQL <span class="s5">查询语句。</span></p><p class="s4" style="padding-left: 39pt;text-indent: 0pt;line-height: 15pt;text-align: left;">4<span class="s5">、当数据量较大时，请合理地建立索引来优化你在第 </span>2<span class="s5">、</span>3 <span class="s5">个问题中给出的 </span>SQL <span class="s5">语句查询效率。</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="637" height="87" alt="image" src="PPlabs-Web-后端笔试v2/Image_009.png"/></span></p><p class="s10" style="padding-left: 48pt;text-indent: 0pt;line-height: 73%;text-align: left;">正确答案： 这个属于开放性试题，没有严格的答案。下面给出几个注意点。 <span class="s15">1</span>、命名规范。</p><p class="s15" style="padding-left: 48pt;text-indent: 0pt;line-height: 8pt;text-align: left;">2<span class="s10">、表的各字段的数据类型合理。</span></p><p class="s15" style="padding-left: 48pt;text-indent: 0pt;line-height: 11pt;text-align: left;">3<span class="s10">、</span>SQL <span class="s10">语句没有明显的语法错误。</span></p></body></html>
